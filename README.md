# MTU Bank
## _The best open-source bank web application, EVER_ / _Лучшее опенсорс веб-банкинг приложение, когда-либо созданное_

[![Tech stack used](https://skillicons.dev/icons?i=cs,cloudflare,docker,dotnet,visualstudio,nginx)](https://github.com/MTU-Bank/base-backend)

MTU Bank - банк для всех ваших нужд.

Зарегистрируйтесь в нашем банке и получите возможность мгновенно переводить деньги в любую точку Земли.

## Функции

- Регистрация и авторизация пользователей
- Подтверждение личности при помощи фотки Российского паспорта
- Возможность мгновенного перевода другим людям по номеру телефона или адресу электронной почты
- Двухфакторная аутентификация
- Возможность брать кредиты, открывать вклады в различных валютах
- Безопасная оплата онлайн-услуг

Список функций будет дополняться.

## Технологии

MTU Bank использует огромное количество технологий для обеспечения бесперебойной работоспособности инфраструктуры:

- [Docker](https://www.docker.com/) - Docker для контейнеризации микросервисов
- [EmbedIO](https://github.com/unosquare/embedio) - Фреймворк для C#, используется для создания REST API и обеспечения связи между сервисами по HTTP
- [Graylog](https://graylog.org/) - Продвинутая система для сбора и категоризации огромного количества логов. Используется для сбора информации о транзакциях.
- [MySQL](https://www.mysql.com/) - СУБД для хранения информации о пользователях, транзакциях и т.д.
- [phpMyAdmin](https://www.phpmyadmin.net/) - Интерфейс взаимодействия с СУБД
- [CloudFlare](https://cloudflare.com) - Интеграция с CloudFlare позволяет обеспечить безопасность сети на уровне layer-7, а так же обеспечить защиту путём установки правил WAF
- [EntityFramework](https://learn.microsoft.com/ru-ru/ef/) - Фреймворк .NET для ORM (объектно-реляционного маппинга)

## Установка и настройка

### Docker

Для запуска MTUBank с использованием Docker необходимо сбилдить образ с необходимым конфигом для `base-backend` используя следующую команду:
```bash
docker build -t "MTUBank/base-backend" --progress=plain . --no-cache
```

После чего можно будет запустить образ используя команду:
```bash
docker run -d -p 80:80 -p 8090:8090 "MTUBank/base-backend"
```

Для подключения дополнительных модулей **уже после запуска base-backend** проделайте аналогичные действия с каждым модулем (убедитесь, что настроили файлы конфигурации)


### Без контейнеризации

Если необходимо запустить MTUBank без использования контейнеризации, необходимо забилдить проект. Для этого переместитесь в директорию `MTUBankBase` и пропишите там `dotnet build`:
```bash
cd MTUBankBase
dotnet build
```

Появившийся в `/bin/Debug/net8.0/` файл `MTUBankBase.dll` может быть запущен при помощи `dotnet MTUBankBase.dll` в соответствующей директории.

Для подключения дополнительных модулей **уже после запуска base-backend** проделайте аналогичные действия с каждым модулем (убедитесь, что настроили файлы конфигурации)

## Микросервисы

MTU Bank состоит из различных сервисов, каждый из которых представляет собой отдельный проект, связанный с ядром (базой) через REST API.

| Сервис | Краткое описание |
| ------ | ------ |
| [base-backend](https://github.com/MTU-Bank/base-backend) | **Вы находитесь здесь.** Сервис содержит менеджер других сервисов, код для взаимодействия с другими сервисами, определения сервисов и методов, список роутов и общий код (by kolya5544 & vest1ter) |
| [frontend](https://github.com/MTU-Bank/frontend) | Фронтэнд для работы с MTUBank. Монолитный, неделимый, позволяет пользователю общаться и использовать функции каждого сервиса (by kolya5544) |
| [auth-service](https://github.com/MTU-Bank/auth-service) | Сервис выполняет аутентификацию, авторизацию, регистрацию и идентификацию пользователей. Сервис имплементирует функции 2FA, выдаёт токены для взаимодействия с другими сервисами (by kolya5544 & vest1ter) |
| [tx-service](https://github.com/MTU-Bank/tx-service) | Сервис выполняет обработку транзакций между счетами пользователей, в том числе: создание, редактирование, удаление счетов. Операции со счетами. Пополнение и вывод средств (by kolya5544) |
| [tx-analyze](https://github.com/MTU-Bank/tx-analyze) | Сервис анализирует происходящие в сети транзакции для выявления и блокировки подозрительных (by MrGraig) |
| [facenet](https://github.com/MTU-Bank/facenet) | Сервис позволяет сравнивать загруженное пользователем селфи с имеющимся в базе данных. Используется для подтверждения транзакций (by MrGraig) |

## Разработка

На данный момент изменения в код принимаются только от авторизованных участников группового проекта МТУСИ.

## Лицензия

AGPL-3.0 license